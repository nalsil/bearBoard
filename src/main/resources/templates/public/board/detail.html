<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${post != null ? post.title + ' - ' + (company != null ? company.name : '') : '게시글 상세'}">게시글 상세</title>
    <link rel="stylesheet" th:href="@{/css/common.css}">
    <link rel="stylesheet" th:href="@{/css/public.css}">
</head>
<body>
    <!-- 헤더 -->
    <div th:replace="~{layout/layout :: header}"></div>

    <!-- 메인 컨텐츠 -->
    <main class="main-content">
        <div class="container">
            <article class="post-detail" th:if="${post != null}">
                <!-- 게시글 헤더 -->
                <header class="post-header">
                    <h1 th:text="${post.title}">제목</h1>
                    <div class="post-meta">
                        <span class="author" th:text="'작성자: ' + ${post.author}">작성자</span>
                        <span class="date" th:text="'작성일: ' + ${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}">작성일</span>
                        <span class="views" th:text="'조회수: ' + ${post.viewCount}">조회수</span>
                    </div>
                </header>

                <!-- 게시글 본문 -->
                <div class="post-content">
                    <p th:text="${post.content}">내용</p>
                </div>

                <!-- 첨부파일 -->
                <div class="post-attachments" th:if="${post.filePath}">
                    <strong>첨부파일</strong>
                    <a th:href="${post.filePath}" download>다운로드</a>
                </div>

                <!-- 목록으로 버튼 -->
                <div class="post-footer">
                    <a th:href="@{/{code}/board/{type}(code=${company.code},type=${board.type})}"
                       class="btn btn-secondary">목록으로</a>
                </div>
            </article>

            <!-- 게시글 없음 -->
            <div class="error-message" th:unless="${post != null}">
                <p th:text="${message != null ? message : '게시글을 찾을 수 없습니다.'}">게시글을 찾을 수 없습니다</p>
                <a th:href="@{/{code}/board/{type}(code=${company.code},type=${board.type})}"
                   class="btn btn-primary">목록으로</a>
            </div>
        </div>
    </main>

    <!-- 푸터 -->
    <div th:replace="~{layout/layout :: footer}"></div>

    <script th:src="@{/js/common.js}"></script>
</body>
</html>
